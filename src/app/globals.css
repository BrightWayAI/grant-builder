/* 
 * Brightway Grants Global Styles
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import design tokens (CSS variables - no @layer needed) */
@import "../styles/tokens.css";

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    scrollbar-gutter: stable;
  }
  
  body {
    @apply bg-surface-page text-text-primary;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  *:focus-visible {
    @apply outline-none ring-2 ring-brand ring-offset-2 ring-offset-surface-page;
  }
  
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* ========================================
     TYPOGRAPHY CLASSES
     ======================================== */
  
  .text-display {
    font-family: var(--font-display);
    font-size: var(--text-4xl);
    font-weight: 600;
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    color: var(--text-primary);
  }
  
  .text-title {
    font-family: var(--font-display);
    font-size: var(--text-3xl);
    font-weight: 600;
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    color: var(--text-primary);
  }
  
  .text-heading {
    font-family: var(--font-display);
    font-size: var(--text-xl);
    font-weight: 600;
    line-height: var(--leading-snug);
    color: var(--text-primary);
  }
  
  .text-subheading {
    font-family: var(--font-body);
    font-size: var(--text-lg);
    font-weight: 600;
    line-height: var(--leading-snug);
    color: var(--text-primary);
  }
  
  .text-body-lg {
    font-family: var(--font-body);
    font-size: var(--text-lg);
    font-weight: 400;
    line-height: var(--leading-relaxed);
    color: var(--text-primary);
  }
  
  .text-body {
    font-family: var(--font-body);
    font-size: var(--text-base);
    font-weight: 400;
    line-height: var(--leading-relaxed);
    color: var(--text-primary);
  }
  
  .text-body-sm {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    font-weight: 400;
    line-height: var(--leading-normal);
    color: var(--text-secondary);
  }
  
  .text-label {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    font-weight: 500;
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
    text-transform: uppercase;
    color: var(--text-tertiary);
  }
  
  .text-caption {
    font-family: var(--font-body);
    font-size: var(--text-xs);
    font-weight: 400;
    line-height: var(--leading-normal);
    color: var(--text-tertiary);
  }
  
  .text-mono {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    font-weight: 400;
    line-height: var(--leading-normal);
  }

  /* ========================================
     COMPONENT UTILITIES
     ======================================== */
  
  .ai-shimmer {
    background: linear-gradient(
      90deg,
      var(--color-gray-200) 0%,
      var(--surface-ai) 50%,
      var(--color-gray-200) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }
  
  .ai-suggestion {
    @apply bg-surface-ai border-l-2 px-3 py-2 rounded-r-md;
    border-left-color: var(--color-ai-500);
  }
  
  .card-interactive {
    @apply transition-all duration-normal;
  }
  
  .card-interactive:hover {
    @apply -translate-y-0.5 shadow-lg border-border-strong;
  }

  /* ========================================
     PROSE EDITOR STYLES
     ======================================== */
  
  .prose-editor {
    @apply min-h-[200px] focus:outline-none font-body;
  }

  .prose-editor p {
    @apply my-2 leading-relaxed;
  }

  .prose-editor h1 {
    @apply text-2xl font-display font-semibold my-4;
  }

  .prose-editor h2 {
    @apply text-xl font-display font-semibold my-3;
  }

  .prose-editor h3 {
    @apply text-lg font-display font-medium my-2;
  }

  .prose-editor ul,
  .prose-editor ol {
    @apply pl-6 my-2;
  }

  .prose-editor ul {
    @apply list-disc;
  }

  .prose-editor ol {
    @apply list-decimal;
  }

  .prose-editor li {
    @apply my-1;
  }

  .prose-editor blockquote {
    @apply border-l-4 border-border-muted pl-4 italic my-2 text-text-secondary;
  }

  .ProseMirror-focused {
    @apply outline-none;
  }

  .placeholder::before {
    @apply text-status-warning bg-status-warning-light px-1 rounded text-sm;
    content: "[INSERT: " attr(data-placeholder) "]";
  }
  
  .ai-placeholder {
    @apply bg-status-warning-light text-status-warning px-1.5 py-0.5 rounded italic;
  }
}

/* Scroll-triggered float-in animations */
@keyframes float-in-up {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float-in-left {
  from {
    opacity: 0;
    transform: translateX(40px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes float-in-right {
  from {
    opacity: 0;
    transform: translateX(-40px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-float-in-up {
  animation: float-in-up 0.8s ease-out forwards;
}

.animate-float-in-left {
  animation: float-in-left 0.8s ease-out forwards;
}

.animate-float-in-right {
  animation: float-in-right 0.8s ease-out forwards;
}

/* Initial hidden state for scroll animations */
.scroll-animate {
  opacity: 0;
}

.scroll-animate.is-visible {
  opacity: 1;
}

.scroll-animate.float-up {
  transform: translateY(40px);
}

.scroll-animate.float-up.is-visible {
  animation: float-in-up 0.8s ease-out forwards;
}

.scroll-animate.float-left {
  transform: translateX(40px);
}

.scroll-animate.float-left.is-visible {
  animation: float-in-left 0.8s ease-out forwards;
}

.scroll-animate.float-right {
  transform: translateX(-40px);
}

.scroll-animate.float-right.is-visible {
  animation: float-in-right 0.8s ease-out forwards;
}

/* Staggered delays */
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--color-gray-300) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-gray-300);
    border-radius: var(--radius-full);
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-gray-400);
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
